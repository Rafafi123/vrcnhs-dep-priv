{% extends 'base.html' %}
{% load static %}

{% block head_block %}
    <!-- Link to Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    


    <!-- Link to Bootstrap JavaScript -->
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
{% endblock %}

{% block content %}
  
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <center>
    <h1>REPORT PAGE</h1>
    <br>

    <form method="GET" action="{% url 'report_page' %}" class="card">
      <p>Selected Grade Level: {{ selected_gradelevel_name }}</p>  
      <select name="gradelevel">
        <option value="all" {% if selected_gradelevel == "all" %}selected{% endif %}>All Grade Levels</option>
        {% for gradelevel in gradelevels %}
          <option value="{{ gradelevel.id }}" {% if selected_gradelevel == gradelevel.id %}selected{% endif %}>
            {{ gradelevel.grade }}
          </option>
        {% endfor %}
      </select>
      <button type="submit">Filter</button>
    </form>

  </center>
  
  <!--<h1>Report Page</h1> -->

  <div class="card-container">
      <!-- Card 1 -->
      <div class="card card-success">
        <div class="card-success">
          <h1 class="dynamic-text"><b>Total Students:</b></h1>
          <h2 class="dynamic-text">{{ total_students }}</h2>
        </div>
      </div>
    

      <!-- Card 3 -->
      <div class="card card-success">
        <div class="card-success">
          <h1 class="dynamic-text-classroom"><b>Total Classrooms:</b></h1>
          <h2 class="dynamic-text">{{ total_classrooms }}</h2>
        </div>
      </div>
  </div>
  
  <div class="chart-container">
    <div class="chart-box">
      <h2>Academic Strand Distribution</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      {{ strand_chart|safe }}
      {% endautoescape %}
    </div>
    
    <!--
    <div class="chart-box">
      <h2>Preferred Distance Modality</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      {{ modality_chart|safe }}
      {% endautoescape %}
    </div> -->
  
    <div class="chart-box">
      <h2>Economic Status Distribution</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      {{ economic_chart|safe }}
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>Religion</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="religion_chart">{{ religion_chart|safe }}</div>
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>Dropout Status Distribution</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="dropout_chart">{{ dropout_chart|safe }}</div>
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>Working Student Distribution</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="working_student_chart">{{ working_student_chart|safe }}</div>
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>4P's Scholars</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="scholarship_chart">{{ scholarship_chart|safe }}</div>
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>Gender</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="sex_chart">{{ sex_chart|safe }}</div>
      {% endautoescape %}
    </div>
  
    <div class="chart-box">
      <h2>Returnees</h2>
      <p>Generated on: {{ current_datetime }}</p>
      {% autoescape off %}
      <div id="returnee_chart">{{ returnee_chart|safe }}</div>
      {% endautoescape %}
    </div>
  </div>
  
      


{% endblock content %}